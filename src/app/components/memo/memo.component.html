<div id="memo-container" class="memo-container">
  <form (ngSubmit)="printMemo()">
    <h1 class="tituloM">Memo</h1>
      <div class="form-group">
    <label for="sucursal">Dirigido a Sucursal o Departamento:</label>
    <select id="sucursal" class="inputs"[(ngModel)]="memo.sucursal" name="sucursal" (change)="onSucursal($event) ">
      <option value="Dilipa Villaflora">Sur</option>
      <option value="Dilipa Carrión">Carrión</option>
      <option value="Dilipa Portoviejo">Portoviejo</option>
      <option value="Ventas Externas">Ventas Externas</option>
      <option value="Centro de Acopio">Acopio</option>
      <option value="Dilipa Oficinas">Oficinas</option>
      <option value="Dilipa Santa Clara">Universidad</option>
      <option value="Dilipa Tumbaco 1">Tumbaco 1</option>
      <option value="Dilipa Tumbaco 2">Tumbaco 2</option>
      <option value="Dilipa Ambato">Ambato</option>
      <option value="Dilipa Ibarra">Ibarra</option>
      <option value="Dilipa Santo Domingo 1">Santo 1</option>
      <option value="Dilipa Santo Domingo 2">Santo 2</option>
      <option value="Dilipa Santo Domingo 3">Santo 3</option>
      <option value="Dilipa Kennedy">Auto Servicio</option>
      <option value="Dilipa Calderón">Calderón</option>
      <option value="Dilipa Cotocollao">Cotocollao</option>
      <option value="Sistemas">Sistemas</option>
      <option value="Contabilidad">Contabilidad</option>
      <option value="Recursos Humanos">Recursos Humanos</option>
      <option value="Compras">Compras</option>
      <option value="Marketing" id="specificRecipient">Marketing</option>
      <option value="Otros">Otro</option>
    </select>
  </div>
    <div *ngIf="mostrarEncargado" class="form-group ">
      <label for="encargado">Encargado:</label>
      <input id="encargado" class="inputs"[(ngModel)]="memo.encargado" name="encargado" type="text"
        [readonly]="!isEncargadoEditable" />
    </div>
    <div class="form-group">
    <label for="dirigidoD">De Sucursal o Departamento:</label>
    <select id="dirigidoD" class="inputs"[(ngModel)]="memo.dirigidoD" name="dirigidoD" (change)="onDirigido($event)">
      <option value="Dilipa Villaflora">Sur</option>
      <option value="Dilipa Carrión">Carrión</option>
      <option value="Dilipa Portoviejo">Portoviejo</option>
      <option value="Ventas Externas">Ventas Externas</option>
      <option value="Centro de Acopio">Acopio</option>
      <option value="Dilipa Oficinas">Oficinas</option>
      <option value="Dilipa Santa Clara">Universidad</option>
      <option value="Dilipa Tumbaco 1">Tumbaco 1</option>
      <option value="Dilipa Tumbaco 2">Tumbaco 2</option>
      <option value="Dilipa Ambato">Ambato</option>
      <option value="Dilipa Ibarra">Ibarra</option>
      <option value="Dilipa Santo Domingo 1">Santo 1</option>
      <option value="Dilipa Santo Domingo 2">Santo 2</option>
      <option value="Dilipa Santo Domingo 3">Santo 3</option>
      <option value="Dilipa Kennedy">Auto Servicio</option>
      <option value="Dilipa Calderón">Calderón</option>
      <option value="Dilipa Cotocollao">Cotocollao</option>
      <option value="Sistemas">Sistemas</option>
      <option value="Contabilidad">Contabilidad</option>
      <option value="Recursos Humanos">Recursos Humanos</option>
      <option value="Compras">Compras</option>
      <option value="Marketing" id="specificRecipient">Marketing</option>
      <option value="Otros">Otro</option>
    </select>
  </div>
    <div *ngIf="mostrarEncargadoD" class="form-group ">
      <label for="additionalField2">Encargado:</label>
      <input id="additionalField2" class="inputs" [(ngModel)]="memo.encargadoD" name="additionalField2" type="text"
        [readonly]="!isEncargadoEditable2" />
    </div>

    <div *ngIf="showAdditionalFieldForSistemas" class="form-group ">
      <label for="additionalFieldForSistemas">Tipo:</label>
      <select id="additionalFieldForSistemas" class="inputs"[(ngModel)]="memo.additionalField" name="additionalFieldForSistemas">
        <option value="Activos">Activos</option>
        <option value="Documentos">Documentos</option>
      </select>
    </div>

    <div *ngIf="memo.additionalField === 'Activos'" class="form-group">
      <label for="tecnitaser">Tecnitaser:</label>
      <input id="tecnitaser" class="inputs"[(ngModel)]="memo.tecnitaser" name="tecnitaser" type="text">
      <label for="marca">Marca:</label>
      <input id="marca" class="inputs"[(ngModel)]="memo.marca" name="marca" type="text">
      <label for="descripcion">Descripción:</label>
      <input id="descripcion" class="inputs" [(ngModel)]="memo.descripcion" name="descripcion" type="text">
      <label for="numeroSerie">Número de Serie:</label>
      <input id="numeroSerie" class="inputs" [(ngModel)]="memo.numeroSerie" name="numeroSerie" type="text">
      <label for="estado">Estado Activo:</label>
      <input id="estado" class="inputs" [(ngModel)]="memo.estado" name="estado" type="text">
      <label for="cargador">Cargador:</label>
      <input id="cargador" class="inputs"[(ngModel)]="memo.cargador" name="cargador" type="text">
    </div>

    <div *ngIf="memo.additionalField === 'Documentos'" class="form-group">
      <label for="reporteCaja"><input type="checkbox"/>Reporte de Caja:</label>
      <input id="reporteCaja" class="inputs"[(ngModel)]="memo.reporteCaja" name="reporteCaja" type="text">
      <label for="notaPedido"><input type="checkbox" />Nota de Pedido:</label>
      <input id="notaPedido" class="inputs" [(ngModel)]="memo.notaPedido" name="notaPedido" type="text">
      <label for="formularioDevolucion"><input type="checkbox" />Formulario de Devolución de Mercadería:</label>
      <input id="formularioDevolucion" class="inputs" [(ngModel)]="memo.formularioDevolucion" name="formularioDevolucion" type="text">
      <label for="rebornGrande"><input type="checkbox" />Reborn Grande:</label>
      <input id="rebornGrande" class="inputs"[(ngModel)]="memo.rebornGrande" name="rebornGrande" type="text">
      <label for="rebornPequeno"><input type="checkbox" />Reborn Pequeño:</label>
      <input id="rebornPequeno" class="inputs" [(ngModel)]="memo.rebornPequeno" name="rebornPequeno" type="text">
      <label for="rolloPrecio"><input type="checkbox" />Rollo de Precio:</label>
      <input id="rolloPrecio" class="inputs" [(ngModel)]="memo.rolloPrecio" name="rolloPrecio" type="text">
      <label for="rolloSeguridad"><input type="checkbox" />Rollo de Seguridad:</label>
      <input id="rolloSeguridad" class="inputs"[(ngModel)]="memo.rolloSeguridad" name="rolloSeguridad" type="text">
    </div>
    <!-- Campo Input asunto -->
    <div class="form-group">
      <label for="content">Asunto:</label>
      <textarea id="content" [(ngModel)]="memo.content" name="content" (input)="onInput($event)" ></textarea>
    </div>

    
    

  </form>

  <div class="btnMemo">
    <button type="button" class="button-57" (click)="printMemo()"><span class="text">Generar PDF</span><span>Piecito</span></button>
  </div>


  <div class="">
    <div class="pdf-container">
       <!-- Contenido original -->
    <div id="pdf-content-left" #pdfContent1 class="pdf-contet-original">
      <div class="centered">
        <h3>{{ memo.title }}</h3>
        <p><strong>Fecha:</strong> {{ memo.date }} <strong> Hora:</strong> {{ memo.time }}</p>
        <p><strong>Para:</strong> {{ memo.sucursal }} - {{ memo.encargado }}</p>
        <p><strong>De:</strong> {{ memo.dirigidoD }} - {{ memo.encargadoD }}</p>
        <p><strong>Asunto:</strong> </p>
        <pre>{{ formattedContent }}</pre>
        <div *ngIf="showAdditionalField">
          <p><strong>Campo Adicional:</strong> {{ memo.additionalField }}</p>
        </div>
        <!-- Mostrar solo los checkboxes marcados y su contenido -->
        </div>
    
    <div *ngIf="memo.additionalField === 'Documentos'">
      <p><strong>Documentos Adicionales:</strong></p>
      <ul>
        <li *ngIf="memo.reporteCaja"><input type="checkbox" checked disabled>Reporte de Caja: {{ memo.reporteCaja }}</li>
        <li *ngIf="memo.notaPedido"><input type="checkbox" checked disabled>Nota de Pedido: {{ memo.notaPedido }}</li>
        <li *ngIf="memo.formularioDevolucion"><input type="checkbox" checked disabled>Formulario de Devolución de Mercadería: {{ memo.formularioDevolucion }}</li>
        <li *ngIf="memo.rebornGrande"><input type="checkbox" checked disabled>Reborn Grande: {{ memo.rebornGrande }}</li>
        <li *ngIf="memo.rebornPequeno"><input type="checkbox" checked disabled>Reborn Pequeño: {{ memo.rebornPequeno }}</li>
        <li *ngIf="memo.rolloPrecio"><input type="checkbox" checked disabled>Rollo de Precio: {{ memo.rolloPrecio }}</li>
        <li *ngIf="memo.rolloSeguridad"><input type="checkbox" checked disabled>Rollo de Seguridad: {{ memo.rolloSeguridad }}</li>
      </ul>
    </div>
    <div *ngIf="memo.additionalField === 'Activos'" class="form-group">
      <p>Tecnitaser: {{ memo.tecnitaser }}</p>
      <p>Marca: {{ memo.marca }}</p>
      <p>Descripción: {{ memo.descripcion }}</p>
      <p>Número de Serie: {{ memo.numeroSerie }}</p>
      <p>Estado Activo: {{ memo.estado }}</p>
      <p>Cargador: {{ memo.cargador }}</p>
    </div>
    <div class="inline-blocks">
      <div class="inline-block">
        <p>Entregado por:</p>
        <p>----------------</p>
      </div>

      <div class="inline-block">
        <p>Recibido por:</p>
        <p>----------------</p>
      </div>
    </div>

      </div>
    

    <!-- Copia del contenido -->
    <div id="pdf-content-right" #pdfContent2 class="pdf-content-copy">
      <div class="centered">
        <h3>{{ memo.title }}</h3>
        <p><strong>Fecha:</strong> {{ memo.date }} <strong> Hora:</strong> {{ memo.time }}</p>
        <p><strong>Para:</strong> {{ memo.sucursal }} {{ memo.encargado }}</p>
        <p><strong>De:</strong> {{ memo.dirigidoD }} {{ memo.encargadoD }}</p>
        <p><strong>Asunto:</strong> </p>
        <pre>{{ formattedContent }}</pre>
        <div *ngIf="showAdditionalField">
          <p><strong>Campo Adicional:</strong> {{ memo.additionalField }}</p>
        </div>
        <!-- Mostrar solo los checkboxes marcados y su contenido -->
    <div *ngIf="memo.additionalField === 'Documentos'">
      <p><strong>Documentos Adicionales:</strong></p>
      <ul>
        <li *ngIf="memo.reporteCaja"><input type="checkbox" checked disabled>Reporte de Caja: {{ memo.reporteCaja }}</li>
        <li *ngIf="memo.notaPedido"><input type="checkbox" checked disabled>Nota de Pedido: {{ memo.notaPedido }}</li>
        <li *ngIf="memo.formularioDevolucion"><input type="checkbox" checked disabled>Formulario de Devolución de Mercadería: {{ memo.formularioDevolucion }}</li>
        <li *ngIf="memo.rebornGrande"><input type="checkbox" checked disabled>Reborn Grande: {{ memo.rebornGrande }}</li>
        <li *ngIf="memo.rebornPequeno"><input type="checkbox" checked disabled>Reborn Pequeño: {{ memo.rebornPequeno }}</li>
        <li *ngIf="memo.rolloPrecio"><input type="checkbox" checked disabled>Rollo de Precio: {{ memo.rolloPrecio }}</li>
        <li *ngIf="memo.rolloSeguridad"><input type="checkbox" checked disabled>Rollo de Seguridad: {{ memo.rolloSeguridad }}</li>
      </ul>
    </div>
    <div *ngIf="memo.additionalField === 'Activos'" class="form-group">
      <p>Tecnitaser: {{ memo.tecnitaser }}</p>
      <p>Marca: {{ memo.marca }}</p>
      <p>Descripción: {{ memo.descripcion }}</p>
      <p>Número de Serie: {{ memo.numeroSerie }}</p>
      <p>Estado Activo: {{ memo.estado }}</p>
      <p>Cargador: {{ memo.cargador }}</p>
    </div>
    <div class="inline-blocks">
      <div class="inline-block">
        <p>Entregado por:</p>
        <p>----------------</p>
      </div>

      <div class="inline-block">
        <p>Recibido por:</p>
        <p>----------------</p>
      </div>
    
  </div>
      </div>
    </div>
    </div>
   

  </div>

</div>


